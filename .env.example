# SF (Software Factory) Configuration
# Copy this file to .env and customize for your setup

# ============================================================================
# Core Configuration
# ============================================================================

# Gemini API Key (required for PA to work)
GEMINI_API_KEY=your-api-key-here

# Claude binary path (optional, defaults to 'claude' from PATH)
# Use this to specify a local build or specific version
#CLAUDE_BIN=/path/to/.claude/local/claude

# ============================================================================
# Telemetry Configuration (Optional)
# ============================================================================

# Enable OpenTelemetry instrumentation (0=disabled, 1=enabled)
SF_ENABLE_TELEMETRY=0

# Enable verbose telemetry logging (0=setup only, 1=show all spans/metrics)
SF_TELEMETRY_VERBOSE=0

# OTEL Collector endpoint (only used if telemetry is enabled)
# NOTE: .env values OVERRIDE shell environment variables (uses override=True)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Override specific endpoints (useful if shell has different values set)
#OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317
#OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4317
#OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4317

# TLS configuration (true=no TLS for localhost, false=use TLS for production)
#OTEL_EXPORTER_OTLP_INSECURE=true

# Service identification
OTEL_SERVICE_NAME=sf
# OTEL_SERVICE_NAMESPACE will default to {user}.{project} if not set

# ============================================================================
# Multi-Tenant Configuration (Optional)
# ============================================================================

# User/Owner ID - used for per-user metrics aggregation
# Defaults to current username if not set
#SF_OWNER_ID=alice

# Project ID - used for per-project metrics aggregation
# Defaults to "default" if not set
#SF_PROJECT_ID=my-project

# Role - supervisor (PA) or worker (Claude subprocess)
# Defaults to "supervisor" if not set
#SF_ROLE=supervisor

# ============================================================================
# Advanced OTEL Configuration (Optional)
# ============================================================================

# Export intervals (milliseconds) - controls how frequently data is sent
#OTEL_TRACE_EXPORT_INTERVAL=1000    # Export traces every 1 second (default: 1000ms)
#OTEL_METRIC_EXPORT_INTERVAL=10000  # Export metrics every 10 seconds (default: 10000ms)

# Separate endpoints for traces and metrics (optional)
#OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317
#OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4317

# ============================================================================
# Usage
# ============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your GEMINI_API_KEY
# 3. (Optional) Enable telemetry and configure OTEL settings
# 4. Run SF: sf "your task here"
#
# For telemetry testing with the OTEL stack:
# See examples/otel-stack/.env.example for pre-configured telemetry setup
